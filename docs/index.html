<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script src="demo.js" defer></script>
    <link rel="shortcut icon" type="image/png" href="favicon.ico">
    <style>
@import url(https://fonts.googleapis.com/css?family=Arbutus);
body {
    background: #D0D0D0;
    font-family: Arbutus;
}
#canvas {
    margin-left: auto;
    margin-right: auto;
    width: fit-content;
    display: block;
}

p, h1 {
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}
    </style>
</head>

<body>
    <h1>
        Minesweeper Demo
    </h1>
        <p style="width: 50em;">
            This is a simple Minesweeper game. It's a cross-platform desktop application writting in C++ with SDL. Ported here to WebAssembly using Emscripten. <a style="display: block;" href="https://github.com/grassdne/sdlminesweeper/" target="_blank">View on Github</a>
        </p>
    <br>

    <canvas id="canvas" oncontextmenu="event.preventDefault()" style="display: block;"></canvas>

    <script type='text/javascript'>
        var Module = {
                    canvas: document.getElementById('canvas'),
                };
        
        // https://developer.chrome.com/blog/autoplay/#webaudio
        // https://github.com/emscripten-core/emscripten/issues/6511#issuecomment-483039500
        canvas.onclick = () => {
    	  if (Module.SDL2.audioContext.state == 'suspended') { Module.SDL2.audioContext.resume(); }
        };
    </script>

    <div style="height: 10em"></div>

</body>

</html>
